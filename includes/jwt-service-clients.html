

<p>JWT first-class support for Refresh Token Cookies is implicitly enabled when configuring the <code>JwtAuthProvider</code> which uses
<a href="/auth/jwt-authprovider.html#jwt-token-cookies">JWT Token Cookies</a> by default which upon authentication will return the Refresh Token in a <code>ss-reftok</code> <strong>Secure</strong>, <strong>HttpOnly</strong> Cookie alongside the Users stateless Authenticated UserSession in the JWT <code>ss-tok</code> Cookie.</p>
<p>This supports <a href="/auth/jwt-authprovider.html#transparent-server-auto-refresh-of-jwt-tokens">transparently auto refreshing access tokens</a> in HTTP Clients
by default as the server will rotate JWT Access Token Cookies which expire before the Refresh Token expiration.</p>
<p>The alternative configuration of using explicit JWT Bearer Tokens is also supported in all smart, generic Service Clients for all <a href="/add-servicestack-reference">Add ServiceStack Reference</a> languages which enable a nicer (i.e. maintenance-free) development experience with all Service Clients
automatically supports fetching new JWT Bearer Tokens &amp; transparently Auto Retry Requests on <strong>401 Unauthorized</strong> responses:</p>
<h4 id="c-f-vb.net-service-clients">C#, F# &amp; VB .NET Service Clients<a class="header-anchor" href="javascript:;" onclick="location.hash='#c-f-vb.net-service-clients'" aria-label="Permalink"> </a></h4>
<pre><code class="language-csharp">var client = new JsonServiceClient(baseUrl);
var authRequest = new Authenticate {
    provider = &quot;credentials&quot;,
    UserName = userName,
    Password = password,
    RememberMe = true
};
var authResponse = client.Post(authRequest);

//client.GetTokenCookie();        // JWT Bearer Token
//client.GetRefreshTokenCookie(); // JWT Refresh Token

// When no longer valid, Auto Refreshes JWT Bearer Token using Refresh Token Cookie
var response = client.Post(new SecureRequest { Name = &quot;World&quot; }); 

Inspect.printDump(response); // print API Response into human-readable format (alias: `response.PrintDump()`)
</code></pre>
<h4 id="typescript-js-service-client">TypeScript &amp; JS Service Client<a class="header-anchor" href="javascript:;" onclick="location.hash='#typescript-js-service-client'" aria-label="Permalink"> </a></h4>
<pre><code class="language-ts">let client = new JsonServiceClient(baseUrl);
let authRequest = new Authenticate({provider:&quot;credentials&quot;,userName,password,rememberMe});
let authResponse = await client.post(authRequest);

// In Browser can't read &quot;HttpOnly&quot; Token Cookies by design, In Node.js can access client.cookies  

// When no longer valid, Auto Refreshes JWT Bearer Token using Refresh Token Cookie
let response = await client.post(new SecureRequest({ name: &quot;World&quot; }));

Inspect.printDump(response); // print API Response into human-readable format
</code></pre>
<h4 id="python-service-client">Python Service Client<a class="header-anchor" href="javascript:;" onclick="location.hash='#python-service-client'" aria-label="Permalink"> </a></h4>
<pre><code class="language-python">client = JsonServiceClient(baseUrl)
authRequest = Authenticate(
    provider=&quot;credentials&quot;, user_name=user_name, password=password, rememberMe=true)
authResponse = client.post(authRequest)

# When no longer valid, Auto Refreshes JWT Bearer Token using Refresh Token Cookie
response = client.post(SecureRequest(name=&quot;World&quot;))

#client.token_cookie         # JWT Bearer Token
#client.refresh_token_cookie # JWT Refresh Token

printdump(response) # print API Response into human-readable format
</code></pre>
<h4 id="dart-service-clients">Dart Service Clients<a class="header-anchor" href="javascript:;" onclick="location.hash='#dart-service-clients'" aria-label="Permalink"> </a></h4>
<pre><code class="language-dart">var client = ClientFactory.create(baseUrl);
var authRequest = Authenticate(provider:&quot;credentials&quot;, userName:userName, password:password);
var authResponse = await client.post(authRequest)

//client.getTokenCookie()        // JWT Bearer Token
//client.getRefreshTokenCookie() // JWT Refresh Token

// When no longer valid, Auto Refreshes JWT Bearer Token using Refresh Token Cookie
var response = await client.post(SecureRequest(name:&quot;World&quot;));

Inspect.printDump(response); // print API Response into human-readable format
</code></pre>
<h4 id="java-service-clients">Java Service Clients<a class="header-anchor" href="javascript:;" onclick="location.hash='#java-service-clients'" aria-label="Permalink"> </a></h4>
<pre><code class="language-java">JsonServiceClient client = new JsonServiceClient(baseUrl);
Authenticate authRequest = new Authenticate()
    .setProvider(&quot;credentials&quot;)
    .setUserName(userName)
    .setPassword(password)
    .setRememberMe(true));
AuthenticateResponse authResponse = client.post(authRequest);

//client.getTokenCookie();         // JWT Bearer Token
//client.getRefreshTokenCookie();  // JWT Refresh Token

// When no longer valid, Auto Refreshes JWT Bearer Token using Refresh Token Cookie
SecureResponse response = client.post(new SecureRequest().setName(&quot;World&quot;));

Inspect.printDump(response); // print API Response into human-readable format
</code></pre>
<h4 id="kotlin-service-clients">Kotlin Service Clients<a class="header-anchor" href="javascript:;" onclick="location.hash='#kotlin-service-clients'" aria-label="Permalink"> </a></h4>
<pre><code class="language-kotlin">val client = new JsonServiceClient(baseUrl)
val authResponse = client.post(Authenticate().apply {
    provider = &quot;credentials&quot;
    userName = userName
    password = password
    rememberMe = true
})

//client.tokenCookie         // JWT Bearer Token
//client.refreshTokenCookie  // JWT Refresh Token

// When no longer valid, Auto Refreshes JWT Bearer Token using Refresh Token Cookie
val response = client.post(SecureRequest().apply {
    name = &quot;World&quot;    
})

Inspect.printDump(response) // print API Response into human-readable format
</code></pre>
<h4 id="swift-service-client">Swift Service Client<a class="header-anchor" href="javascript:;" onclick="location.hash='#swift-service-client'" aria-label="Permalink"> </a></h4>
<pre><code class="language-swift">let client = JsonServiceClient(baseUrl: baseUrl);
let authRequest = Authenticate()
authRequest.provider = &quot;credentials&quot;
authRequest.userName = userName
authRequest.password = password
authRequest.rememberMe = true
let authResponse = try client.post(authRequest)

//client.getTokenCookie()        // JWT Bearer Token
//client.getRefreshTokenCookie() // JWT Refresh Token

// When no longer valid, Auto Refreshes JWT Bearer Token using Refresh Token Cookie
let request = SecureRequest()
request.name = &quot;World&quot;
let response = try client.post(request)

Inspect.printDump(response) // print API Response into human-readable format
</code></pre>
