

<h4 id="requiresauthserver.cshtml">_RequiresAuthServer.cshtml<a class="header-anchor" href="javascript:;" onclick="location.hash='#requiresauthserver.cshtml'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<pre><code class="language-html">@{ RedirectIfNotAuthenticated($&quot;/server-razor/login?continue={Request.PathInfo}&quot;); }

&lt;div style=&quot;text-align:right&quot;&gt;
    &lt;small class=&quot;text-muted&quot;&gt;
        @UserSession.DisplayName
        | &lt;a href=&quot;/auth/logout?continue=/server-razor/&quot;&gt;Sign Out&lt;/a&gt;
    &lt;/small&gt;
&lt;/div&gt;
</code></pre>
<h4 id="default.cshtml">default.cshtml<a class="header-anchor" href="javascript:;" onclick="location.hash='#default.cshtml'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<pre><code class="language-html">@await Html.PartialAsync(&quot;_RequiresAuthServer&quot;)

@{ var Continue = &quot;/server-razor/contacts/&quot;; }

&lt;h3&gt;Add new Contact&lt;/h3&gt;

&lt;form action=&quot;/contacts&quot; method=&quot;post&quot; class=&quot;col-lg-4&quot;&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        @Html.ValidationSummary(new[]{ &quot;title&quot;,&quot;name&quot;,&quot;color&quot;,&quot;age&quot;,&quot;filmGenres&quot;,&quot;agree&quot; })
        @Html.HiddenInputs(new { @continue = Continue, errorView = Continue })
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        @Html.FormInput(new { 
            id = &quot;title&quot;, 
            type = &quot;radio&quot;,
        }, new InputOptions { 
            Values = Html.ContactTitles(),
            Inline = true,
        })
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        @Html.FormInput(new { 
            id = &quot;name&quot;, 
            placeholder = &quot;Name&quot;, 
        }, new InputOptions {
            Label = &quot;Full Name&quot;,
            Help  = &quot;Your first and last name&quot;,
        })
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        @Html.FormSelect(new { 
            id = &quot;color&quot;, 
            @class = &quot;col-4&quot;, 
        }, new InputOptions {
            Label  = &quot;Favorite color&quot;,
            Values = new StringDictionary { {&quot;&quot;,&quot;&quot;} }.Merge(Html.ContactColors()),
        })
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        @Html.FormInput(new { 
            id = &quot;filmGenres&quot;, 
            type = &quot;checkbox&quot;,
        }, new InputOptions { 
            Label  = &quot;Favorite Film Genres&quot;,
            Help   = &quot;choose one or more&quot;,
            Values = Html.ContactGenres()
        })
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        @Html.FormInput(new { 
            id = &quot;age&quot;, 
            type = &quot;number&quot;,
            min = 13,
            placeholder = &quot;Age&quot;,
            @class = &quot;col-3&quot;,
        })
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        @Html.FormInput(new {
            id   = &quot;agree&quot;,
            type = &quot;checkbox&quot;,
        },
        new InputOptions { Label = &quot;Agree to terms and conditions&quot; })
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
        &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Add Contact&lt;/button&gt;
        &lt;a href=&quot;/server-razor/contacts/&quot;&gt;reset&lt;/a&gt;
    &lt;/div&gt;
&lt;/form&gt;

@{ var response = await Gateway.SendAsync(new GetContacts()); }

&lt;table id=&quot;results&quot;&gt;
    &lt;tbody&gt;
    @foreach (var c in response.Results)
    {
        &lt;tr style=&quot;background:@c.Color&quot;&gt;
            &lt;td&gt;@c.Title @c.Name (@c.Age)&lt;/td&gt;
            &lt;td&gt;&lt;a href=&quot;/server-razor/contacts/@c.Id/edit&quot;&gt;edit&lt;/a&gt;&lt;/td&gt;
            &lt;td&gt;&lt;form method=&quot;post&quot; action=&quot;/contacts/@c.Id/delete&quot; onsubmit=&quot;return confirm('Are you sure?')&quot;&gt;
                &lt;input type=&quot;hidden&quot; name=&quot;continue&quot;  value=&quot;@Continue&quot;&gt;
                &lt;button class=&quot;btn btn-sm btn-primary&quot;&gt;delete&lt;/button&gt;&lt;/form&gt;&lt;/td&gt;
        &lt;/tr&gt;
    }
    @if (response.Results.IsEmpty()) 
    {
        &lt;tr&gt;
            &lt;td&gt;There are no contacts.&lt;/td&gt;
        &lt;/tr&gt;
    }
    &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>
